!function(t){t.fn.scrollHighlight=function(e){return this.each(function(){function o(e){for(var o=("vertical"==c?u.scrollTop()+a:u.scrollLeft()+a,t(window)),r=!1,i=0;i<y;i++)try{var n=1;i==y-1&&(n=0);var h=o.height(),s=o.scrollTop(),f=t(w[i]).offset().top,d=t(w[i+n]).offset().top,v=t(w[i]).outerHeight(!0);l.cancelFlag&&(s>f+v||s<f-h?i!=y-1&&s>f&&s<d-v?r?g.eq(m[i]).css("color","gray"):(g.eq(m[i]).css("color","blue"),r=!0):i==y-1&&s>f?g.eq(m[i]).css("color","blue"):g.eq(m[i]).css("color","gray"):r?g.eq(m[i]).css("color","gray"):(g.eq(m[i]).css("color","blue"),r=!0))}catch(t){}}function r(){var e=window.location.pathname,o=e.split("/");if(o.length>2){var r=t(".article").eq(0).attr("id"),i="post-"+o[o.length-2];if(i==r)return!0}return!1}var i={childItem:"a",attribute:"href",highlight:"highlight",buffer:0,cancelFlag:!0,container:window,mode:"vertical"},l=t.extend({},i,e),n=t(this),c=l.mode,a=l.buffer,h=(l.highlight,l.childItem),s=l.attribute,u=(t(l.container),t(window));if(!(n.length<=0)){for(var f,g=n.find(h),d=0,v=g.length,w=[],m=[],p=[];d<v;d++)p.push(g.eq(d).attr(s));for(var b=p.length,q=0;q<b;q++){var T=t(p[q]);T.length&&T.is(":visible")&&(w.push(p[q]),m.push(q))}var y=w.length;t(window).on("scroll",function(){r()&&(clearTimeout(f),f=setTimeout(o,100))}),t(window).on("resize",function(){r()&&(clearTimeout(f),f=setTimeout(o,100))}),r()&&(f=setTimeout(o,100))}})}}(jQuery);