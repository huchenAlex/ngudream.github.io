var instantClick,InstantClick=instantClick=function(t,e,n){function r(t){var e=t.indexOf("#");return e==-1?t:t.substr(0,e)}function i(t){for(;t&&"A"!=t.nodeName;)t=t.parentNode;return t}function o(t){do{if(!t.hasAttribute)break;if(t.hasAttribute("data-instant"))return!1;if(t.hasAttribute("data-no-instant"))return!0}while(t=t.parentNode);return!1}function a(t){var n=e.protocol+"//"+e.host;return!(t.target||t.hasAttribute("download")||0!=t.href.indexOf(n+"/")||t.href.indexOf("#")>-1&&r(t.href)==H||o(t))}function d(t){for(var e=Array.prototype.slice.call(arguments,1),n=!1,r=0;r<Z[t].length;r++)if("receive"==t){var i=Z[t][r].apply(window,e);i&&("body"in i&&(e[1]=i.body),"title"in i&&(e[2]=i.title),n=i)}else Z[t][r].apply(window,e);return n}function s(i,o,a,s){if(l(),t.documentElement.replaceChild(o,t.body),t.title=i,a){h("remove"),a!=e.href&&(history.pushState(null,null,a),n.indexOf(" CriOS/")>-1&&(t.title==i?t.title=i+String.fromCharCode(160):t.title=i));var u=a.indexOf("#"),c=u>-1&&t.getElementById(a.substr(u+1)),p=0;if(c)for(;c.offsetParent;)p+=c.offsetTop,c=c.offsetParent;"requestAnimationFrame"in window?requestAnimationFrame(function(){scrollTo(0,p)}):scrollTo(0,p),H=r(a),et[H]=[],T(!1),d("change",!1)}else scrollTo(0,s),K.abort(),f(),v(function(t){return t.hasAttribute("data-instant-restore")}),d("restore")}function f(){z=!1,J=!1}function u(t){return t.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function l(){for(var t=0;t<_.length;t++)clearTimeout(_[t]);_=[];for(var t=0;t<tt.length;t++)"object"==typeof tt[t]&&"abort"in tt[t]&&(tt[t].instantKilled=!0,tt[t].abort());tt=[]}function c(){K.abort(),f()}function h(t){if(H in et)for(var e=0;e<et[H].length;e++)window[t+"EventListener"].apply(window,et[H][e])}function v(e){var n,r,i,o,a,d=t.body.getElementsByTagName("script"),s=[];for(a=0;a<d.length;a++)s.push(d[a]);for(a=0;a<s.length;a++)if(n=s[a],n&&e(n)){r=t.createElement("script");for(var f=0;f<n.attributes.length;f++)r.setAttribute(n.attributes[f].name,n.attributes[f].value);r.textContent=n.textContent,i=n.parentNode,o=n.nextSibling,i.removeChild(n),i.insertBefore(r,o)}}function p(t){var e=i(t.target);e&&a(e)&&k(e.href)}function g(t){if(!(F>+new Date-500||+new Date-W<100)){var e=i(t.target);e&&e!=i(t.relatedTarget)&&a(e)&&(e.addEventListener("mouseout",y),J||(q=e.href,B=P(k,V)))}}function b(t){F=+new Date;var e=i(t.target);e&&a(e)&&(M&&(clearTimeout(M),M=!1),e.addEventListener("touchend",x),e.addEventListener("touchcancel",x),k(e.href))}function w(){t.body.addEventListener("click",m)}function m(e){if(t.body.removeEventListener("click",m),M&&(clearTimeout(M),M=!1),!e.defaultPrevented){var n=i(e.target);n&&a(n)&&(e.which>1||e.metaKey||e.ctrlKey||(e.preventDefault(),L(n.href)))}}function y(t){if(i(t.target)!=i(t.relatedTarget))return B?(clearTimeout(B),void(B=!1)):void(z&&!J&&(K.abort(),f()))}function x(t){z&&!J&&(M=P(c,500))}function A(){if(2==K.readyState){var n=K.getResponseHeader("Content-Type");n&&/^text\/html/i.test(n)||(R=!0)}if(!(K.readyState<4)){if(0==K.status)return $gotANetworkError=!0,void(J&&(d("exit",j,"network error"),e.href=j));if(R)return void(J&&(d("exit",j,"non-html content-type"),e.href=j));var i=t.implementation.createHTMLDocument("");i.documentElement.innerHTML=u(K.responseText),G=i.title,U=i.body;var o=d("receive",j,U,G);o&&("body"in o&&(U=o.body),"title"in o&&(G=o.title));var a=r(j);X[a]={body:U,title:G,scrollPosition:a in X?X[a].scrollPosition:0};for(var s,f,l=i.head.children,c=0,h=0;h<l.length;h++)if(s=l[h],s.hasAttribute("data-instant-track")){f=s.getAttribute("href")||s.getAttribute("src")||s.textContent;for(var v=0;v<Q.length;v++)Q[v]==f&&c++}c!=Q.length&&(Y=!0),J&&(J=!1,L(j))}}function E(){var t=r(e.href);if(t!=H){if(J&&(f(),K.abort()),!(t in X))return d("exit",e.href,"not in history"),void(t==e.href?e.href=e.href:e.reload());X[H].scrollPosition=pageYOffset,h("remove"),H=t,s(X[t].title,X[t].body,!1,X[t].scrollPosition),h("add")}}function T(e){t.body.addEventListener("touchstart",b,!0),$?t.body.addEventListener("mousedown",p,!0):t.body.addEventListener("mouseover",g,!0),t.body.addEventListener("click",w,!0),e||v(function(t){return!t.hasAttribute("data-no-instant")})}function k(t){B&&(clearTimeout(B),B=!1),t||(t=q),z&&(t==j||J)||(z=!0,J=!1,j=t,U=!1,R=!1,$gotANetworkError=!1,Y=!1,d("preload"),K.open("GET",t),K.timeout=9e4,K.send())}function L(t){return W=+new Date,B||!z?B&&j&&j!=t?(d("exit",t,"click occured while preloading planned"),void(e.href=t)):(k(t),d("wait"),void(J=!0)):J?(d("exit",t,"clicked on a link while waiting for another page to display"),void(e.href=t)):R?(d("exit",j,"non-html content-type"),void(e.href=j)):$gotANetworkError?(d("exit",j,"network error"),void(e.href=j)):Y?(d("exit",j,"different assets"),void(e.href=j)):U?(X[H].scrollPosition=pageYOffset,f(),void s(G,U,j)):(d("wait"),void(J=!0))}function C(n){if(!nt)return void d("change",!0);if(!I){I=!0,"mousedown"==n?$=!0:"number"==typeof n&&(V=n),H=r(e.href),X[H]={body:t.body,title:t.title,scrollPosition:pageYOffset};for(var i,o,a=t.head.children,s=0;s<a.length;s++)i=a[s],i.hasAttribute("data-instant-track")&&(o=i.getAttribute("href")||i.getAttribute("src")||i.textContent,Q.push(o));K=new XMLHttpRequest,K.addEventListener("readystatechange",A),T(!0),addEventListener("popstate",E)}}function O(t,e){Z[t].push(e),"change"==t&&e(!W)}function P(){var t=window.setTimeout.apply(window,arguments);return _.push(t),t}function N(){var t=window.setInterval.apply(window,arguments);return _.push(t),t}function S(t){return t||(t=new XMLHttpRequest),tt.push(t),t}function D(){H in et||(et[H]=[]),et[H].push(arguments),addEventListener.apply(window,arguments)}var H,q,B,F,I,M,K,R,Y,$,X={},j=!1,G=!1,U=!1,W=0,z=!1,J=!1,Q=[],V=65,Z={preload:[],receive:[],wait:[],change:[],restore:[],exit:[]},_=[],tt=[],et={},nt=!1;if("pushState"in history&&"file:"!=e.protocol){nt=!0;var rt=n.indexOf("Android ");if(rt>-1){var it=parseFloat(n.substr(rt+"Android ".length));if(it<4.4&&(nt=!1,it>=4))for(var ot=[/ Chrome\//,/ UCBrowser\//,/ Firefox\//,/ Windows Phone /],at=0;at<ot.length;at++)if(ot[at].test(n)){nt=!0;break}}}return{supported:nt,init:C,on:O,setTimeout:P,setInterval:N,xhr:S,addEventListener:D}}(document,location,navigator.userAgent);